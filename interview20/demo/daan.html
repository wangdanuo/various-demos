<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .trap {
            height: 200px;
            padding: 20px;
            border: 1px solid #000;
            display: flex;
        }

        .flex1 {
            width: 200px;
            height: 200px;
            margin-right: 20px;
            border: 1px solid #000;
        }

        .flex2 {
            flex: 1.5;
            border: 1px solid #000;
            margin-right: 20px;
        }

        .flex3 {
            flex: 1;
            height: 100px;
            border: 1px solid #000;
            margin: 50px 20px 0 0;
        }

        .flex4 {
            width: 200px;
            height: 100px;
            border: 1px solid #000;
        }
    </style>
</head>

<body>
    <div class="trap">
        <div class="flex1">定宽200</div>
        <div class="flex2">不定宽1.5</div>
        <div class="flex3">不定宽1</div>
        <div class="flex4">定宽200</div>
    </div>
</body>
<script>
    /*     function fn(url,name){
        var uri = url.split("?")[1];
        var arr = uri.split("&");
        for(let i = 0 ; i < arr.length ; i++){
            let res = arr[i].split("=");
            if(res[0] == name){
                console.log(res[1]);
                return res[1];
            }
        }
        return false;
    }
    fn("https://a.com/?a=1&b=2","a"); */
    /*			function fn(url) {
    				let arr={};
    				let arr1=url.split("?")[1];
    				let arr2=arr1.split("&");
    				for(let i=0; i<arr2.length; i++){
    					let res=arr2[i].split("=");
    					arr[res[0]]=res[1];
    				}
    				return arr
    			}
                console.log(fn(url)) 
    */
    var input = [{
        id: 1,
        text: 'text1',
        children: [{
                id: 2,
                text: 'text2',
                parentId: 1,
                children: [{
                    id: 4,
                    text: 'text4',
                    parentId: 2
                }]
            },
            {
                id: 3,
                text: 'text3',
                parentId: 1
            }
        ]
    }]
    output: [{
            id: 4,
            text: 'text4',
            parentId: 2
        },
        {
            id: 2,
            text: 'text2',
            parentId: 1
        },
        {
            id: 3,
            text: 'text3',
            parentId: 1
        },
        {
            id: 1,
            text: 'text1'
        }
    ];
    var output = [];
    function walk(list){
        list.forEach(item => {
            if(item.children){
                walk(item.children);
                delete item.children;
            }
            output.push(item);
        })
    }
    console.log(output);
    walk(input);
</script>

</html>